## Java为什么不支持多继承

- 菱形歧义问题

  ```
                 A foo()    
                 / \    
               /     \    
          B foo()    C foo()    
               \     /    
                 \ /    
                 D foo()
  ```

  B 和 C 实现了 A的方法， D又多继承 B 和 C ， D调用方法时无法确定调用哪个

  ```java
  class A {
      void foo() { }
  }
  
  class B {
      String foo() { }
  }
  
  // 同名方法可能返回值不同
  // class C extends A , B {
  //     [String, void] foo()  { super.foo() }
  // }
  ```

- 多重继承确实使设计复杂化并在转换、构造函数链接等过程中产生问题

  假设你需要多重继承的情况并不多，简单起见，明智的决定是省略它。此外，Java 可以通过使用接口支持单继承来避免这种歧义。由于接口只有方法声明而且没有提供任何实现，因此只有一个特定方法的实现，因此不会有任何歧义

- 组合优于继承

  ```java
  class X {
      A a;
      B b;
  }
  ```

继承和聚合/组合都可以达到代码重用的目的。

**继承优点**:  

- 父类的大部分功能可以通过继承关系自动进入子类；
- 修改或扩展继承而来的实现较为容易。

**继承缺点**:

- 无法通过继承达到多个类代码的重用。

- 父类的方法子类无条件继承，很容易造成方法污染。

- 从父类中继承的方法，是一种静态的复用。不能在运行时发生改变，不够灵活。

继承可以用，但使用继承需要谨慎。一般来说，使用**继承有两个条件**：

- 父类中所有的属性和方法，在子类中都适用。
- 子类不需要再去重用别的类中的代码。

如果不能满足这两个条件，那么就应该使用聚合/组合关系去替代继承，来达到代码的复用。